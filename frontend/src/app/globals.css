@tailwind base;
@tailwind components;
@tailwind utilities;

@import 'leaflet/dist/leaflet.css';

:root {
  --background: #f8fafc;
  --foreground: #1e293b;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Hiragino Sans', 'Noto Sans JP', sans-serif;
}

/* スクロールバーのスタイル */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* Leaflet z-index override - サイドパネルより下に表示 */
.leaflet-pane,
.leaflet-tile,
.leaflet-marker-icon,
.leaflet-marker-shadow,
.leaflet-tile-container,
.leaflet-pane > svg,
.leaflet-pane > canvas,
.leaflet-zoom-box,
.leaflet-image-layer,
.leaflet-layer {
  z-index: auto !important;
}

.leaflet-container {
  font-family: inherit;
  z-index: 0 !important;
}

.leaflet-top,
.leaflet-bottom {
  z-index: 10 !important;
}

.leaflet-control {
  z-index: 10 !important;
}

.leaflet-popup-pane,
.leaflet-tooltip-pane {
  z-index: 50 !important;
}

.leaflet-popup-content-wrapper {
  border-radius: 8px;
  padding: 0;
}

.leaflet-popup-content {
  margin: 0;
  min-width: 200px;
}

/* アニメーション */
@keyframes pulse-ring {
  0% {
    transform: scale(1);
    opacity: 0.8;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

.animate-pulse-ring {
  animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* ドロップゾーンスタイル */
.dropzone-active {
  border-color: #3b82f6;
  background-color: #eff6ff;
}

/* 警報レベルカラー */
.alert-critical {
  background-color: #fef2f2;
  border-left: 4px solid #dc2626;
}

.alert-warning {
  background-color: #fffbeb;
  border-left: 4px solid #f59e0b;
}

.alert-caution {
  background-color: #fefce8;
  border-left: 4px solid #eab308;
}

.alert-low {
  background-color: #f0fdf4;
  border-left: 4px solid #22c55e;
}

/* 2行で切り捨て */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ローディングスピナー */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.animate-spin {
  animation: spin 1s linear infinite;
}
